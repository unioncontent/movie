"use strict";
exports.__esModule = true;
var Imports = require("./Imports");
var Exports = require("./Exports");
var Fail_1 = require("../utils/Fail");
var validate = function (program) {
    return program.body.reduce(function (acc, node) {
        var validType = node.type === 'ImportDeclaration' || node.type === 'ExportNamedDeclaration';
        return acc === false ? false : validType;
    }, true);
};
var readMainModule = function (program) {
    if (!validate(program)) {
        Fail_1.fail('Main entry point can only have imports and exports.');
    }
    return {
        imports: Imports.readImports(program),
        exports: Exports.readExports(program)
    };
};
exports.readMainModule = readMainModule;
