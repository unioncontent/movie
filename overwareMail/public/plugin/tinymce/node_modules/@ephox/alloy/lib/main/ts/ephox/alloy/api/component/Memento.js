import { Objects } from '@ephox/boulder';
import { Merger, Option } from '@ephox/katamari';
import * as Tagger from '../../registry/Tagger';
import { isSketchSpec } from '../../api/ui/Sketcher';
var record = function (spec) {
    var uid = isSketchSpec(spec) && Objects.hasKey(spec, 'uid') ? spec.uid : Tagger.generate('memento');
    var get = function (any) {
        return any.getSystem().getByUid(uid).getOrDie();
    };
    var getOpt = function (any) {
        return any.getSystem().getByUid(uid).fold(Option.none, Option.some);
    };
    var asSpec = function () {
        return Merger.deepMerge(spec, {
            uid: uid
        });
    };
    return {
        get: get,
        getOpt: getOpt,
        asSpec: asSpec
    };
};
export { record };
//# sourceMappingURL=Memento.js.map