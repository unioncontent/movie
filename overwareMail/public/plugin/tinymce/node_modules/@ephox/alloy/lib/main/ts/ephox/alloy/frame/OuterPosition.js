import { Arr, Fun } from '@ephox/katamari';
import { Element, Location, Position, Scroll } from '@ephox/sugar';
import * as Frames from './Frames';
import * as Navigation from './Navigation';
var find = function (element) {
    var doc = Element.fromDom(document);
    var scroll = Scroll.get(doc);
    var path = Frames.pathTo(element, Navigation);
    return path.fold(Fun.curry(Location.absolute, element), function (frames) {
        var offset = Location.viewport(element);
        var r = Arr.foldr(frames, function (b, a) {
            var loc = Location.viewport(a);
            return {
                left: b.left + loc.left(),
                top: b.top + loc.top()
            };
        }, { left: 0, top: 0 });
        return Position(r.left + offset.left() + scroll.left(), r.top + offset.top() + scroll.top());
    });
};
export { find };
//# sourceMappingURL=OuterPosition.js.map